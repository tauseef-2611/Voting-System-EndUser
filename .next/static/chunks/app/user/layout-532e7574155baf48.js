(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[972],{3614:function(e,t,a){Promise.resolve().then(a.bind(a,6514))},809:function(e,t,a){"use strict";a.d(t,{Gg:function(){return d},Qk:function(){return s},XR:function(){return r}}),a(4590);var n=a(8064);(0,n.$)("722ed65feea5b21261bbd2c76a7f077b1d509037"),(0,n.$)("6e3a33b373d25097280279d1c091fc56c15c844f"),(0,n.$)("35d4c1441f5f064fdebf725c84a6fb8128d8a81c"),(0,n.$)("01a038b941520912faba054f25a519491687433d"),(0,n.$)("31c603db583e6f4979512039e3a77f9ed93048f0");var r=(0,n.$)("37a5a71dc1211cb496f250b7079bb409ff231298"),s=(0,n.$)("beddca5024040d472c74a752bd260aad0d5e71ed"),d=(0,n.$)("796f752e6ac3f9cff407e402a73d9720c3fdb593");(0,n.$)("a3d3abb1e9e0d23ce2919fdc20b5d51b8dc3863b")},9809:function(e,t,a){"use strict";a.d(t,{a:function(){return l},d:function(){return i}});var n=a(7437),r=a(2265),s=a(809),d=a(6463);let o=(0,r.createContext)(void 0),i=e=>{let{children:t}=e,[a,i]=(0,r.useState)(null),l=(0,d.useRouter)();return(0,r.useEffect)(()=>{(async()=>{let e=await (0,s.Gg)();e?i(e.user):(alert("You are not logged in"),l.push("/"))})()},[l]),(0,n.jsx)(o.Provider,{value:{user:a,setUser:i},children:t})},l=()=>{let e=(0,r.useContext)(o);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}},6514:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return C}});var n=a(7437),r=a(2265),s=a(8324),d=a(5137),o=a(1336),i=a(5171),l="Avatar",[c,u]=(0,s.b)(l),[f,m]=c(l),x=r.forwardRef((e,t)=>{let{__scopeAvatar:a,...s}=e,[d,o]=r.useState("idle");return(0,n.jsx)(f,{scope:a,imageLoadingStatus:d,onImageLoadingStatusChange:o,children:(0,n.jsx)(i.WV.span,{...s,ref:t})})});x.displayName=l;var p="AvatarImage",h=r.forwardRef((e,t)=>{let{__scopeAvatar:a,src:s,onLoadingStatusChange:l=()=>{},...c}=e,u=m(p,a),f=function(e){let[t,a]=r.useState("idle");return(0,o.b)(()=>{if(!e){a("error");return}let t=!0,n=new window.Image,r=e=>()=>{t&&a(e)};return a("loading"),n.onload=r("loaded"),n.onerror=r("error"),n.src=e,()=>{t=!1}},[e]),t}(s),x=(0,d.W)(e=>{l(e),u.onImageLoadingStatusChange(e)});return(0,o.b)(()=>{"idle"!==f&&x(f)},[f,x]),"loaded"===f?(0,n.jsx)(i.WV.img,{...c,ref:t,src:s}):null});h.displayName=p;var b="AvatarFallback",g=r.forwardRef((e,t)=>{let{__scopeAvatar:a,delayMs:s,...d}=e,o=m(b,a),[l,c]=r.useState(void 0===s);return r.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(e)}},[s]),l&&"loaded"!==o.imageLoadingStatus?(0,n.jsx)(i.WV.span,{...d,ref:t}):null});g.displayName=b;var v=a(7440);let N=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(x,{ref:t,className:(0,v.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});N.displayName=x.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(h,{ref:t,className:(0,v.cn)("aspect-square h-full w-full",a),...r})}).displayName=h.displayName;let j=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(g,{ref:t,className:(0,v.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});j.displayName=g.displayName;var y=a(495),w=a(6910),k=a(809),R=a(9809);/**
 * @license lucide-react v0.416.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let _=(0,a(8030).Z)("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);function z(){let{user:e}=(0,R.a)(),t=async()=>{console.log("Logging out"),await (0,k.Qk)(),window.location.href="/"};return(0,n.jsx)("div",{className:"flex-col md:flex",children:(0,n.jsx)("div",{className:"border-b",children:(0,n.jsxs)("div",{className:"flex h-16 items-center px-4",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Intekhaab"}),(0,n.jsx)("div",{className:"ml-auto flex items-center space-x-4",children:(0,n.jsxs)(w.h_,{children:[(0,n.jsx)(w.$F,{asChild:!0,children:(0,n.jsx)(y.z,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:(0,n.jsx)(N,{className:"h-8 w-8",children:(0,n.jsx)(j,{children:(0,n.jsx)(_,{className:"h-4 w-4"})})})})}),(0,n.jsxs)(w.AW,{className:"w-56",align:"end",forceMount:!0,children:[(0,n.jsx)(w.Ju,{className:"font-normal",children:(0,n.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,n.jsx)("p",{className:"text-sm font-medium leading-none",children:null==e?void 0:e.name}),(0,n.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:null==e?void 0:e.phone})]})}),(0,n.jsx)(w.VD,{}),(0,n.jsxs)(w.Qk,{children:[(0,n.jsx)(w.Xi,{children:(0,n.jsxs)("p",{className:"text-xs leading-none text-muted-foreground",children:[(0,n.jsx)("strong",{children:"Unit: "}),null==e?void 0:e.unit]})}),(0,n.jsx)(w.Xi,{children:(0,n.jsxs)("p",{className:"text-xs leading-none text-muted-foreground",children:[(0,n.jsx)("strong",{children:"Area: "}),null==e?void 0:e.area]})}),(0,n.jsx)(w.Xi,{children:(0,n.jsxs)("p",{className:"text-xs leading-none text-muted-foreground",children:[(0,n.jsx)("strong",{children:"DoB: "}),null==e?void 0:e.date_of_birth]})})]}),(0,n.jsx)(w.VD,{}),(0,n.jsx)(w.Xi,{onClick:t,children:"Logout"})]})]})})]})})})}function C(e){let{children:t}=e;return(0,n.jsxs)(R.d,{children:[(0,n.jsx)(z,{}),(0,n.jsx)("div",{className:"p-2",children:t})]})}},495:function(e,t,a){"use strict";a.d(t,{d:function(){return i},z:function(){return l}});var n=a(7437),r=a(2265),s=a(1538),d=a(2218),o=a(7440);let i=(0,d.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=r.forwardRef((e,t)=>{let{className:a,variant:r,size:d,asChild:l=!1,...c}=e,u=l?s.g7:"button";return(0,n.jsx)(u,{className:(0,o.cn)(i({variant:r,size:d,className:a})),ref:t,...c})});l.displayName="Button"},6910:function(e,t,a){"use strict";a.d(t,{$F:function(){return u},AW:function(){return m},Ju:function(){return h},Qk:function(){return f},VD:function(){return b},Xi:function(){return x},bO:function(){return p},h_:function(){return c}});var n=a(7437),r=a(2265),s=a(1220),d=a(7592),o=a(2468),i=a(8165),l=a(7440);let c=s.fC,u=s.xz,f=s.ZA;s.Uv,s.Tr,s.Ee,r.forwardRef((e,t)=>{let{className:a,inset:r,children:o,...i}=e;return(0,n.jsxs)(s.fF,{ref:t,className:(0,l.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",a),...i,children:[o,(0,n.jsx)(d.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=s.fF.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.tu,{ref:t,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}).displayName=s.tu.displayName;let m=r.forwardRef((e,t)=>{let{className:a,sideOffset:r=4,...d}=e;return(0,n.jsx)(s.Uv,{children:(0,n.jsx)(s.VY,{ref:t,sideOffset:r,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...d})})});m.displayName=s.VY.displayName;let x=r.forwardRef((e,t)=>{let{className:a,inset:r,...d}=e;return(0,n.jsx)(s.ck,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",a),...d})});x.displayName=s.ck.displayName;let p=r.forwardRef((e,t)=>{let{className:a,children:r,checked:d,...i}=e;return(0,n.jsxs)(s.oC,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:d,...i,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(s.wU,{children:(0,n.jsx)(o.Z,{className:"h-4 w-4"})})}),r]})});p.displayName=s.oC.displayName,r.forwardRef((e,t)=>{let{className:a,children:r,...d}=e;return(0,n.jsxs)(s.Rk,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...d,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(s.wU,{children:(0,n.jsx)(i.Z,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=s.Rk.displayName;let h=r.forwardRef((e,t)=>{let{className:a,inset:r,...d}=e;return(0,n.jsx)(s.__,{ref:t,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",a),...d})});h.displayName=s.__.displayName;let b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(s.Z0,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});b.displayName=s.Z0.displayName},7440:function(e,t,a){"use strict";a.d(t,{cn:function(){return s}});var n=a(4839),r=a(6164);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,n.W)(t))}}},function(e){e.O(0,[32,534,424,971,23,744],function(){return e(e.s=3614)}),_N_E=e.O()}]);