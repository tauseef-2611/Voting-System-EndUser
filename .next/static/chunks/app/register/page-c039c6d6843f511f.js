(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{6702:function(e,s,l){Promise.resolve().then(l.bind(l,6406))},6406:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return f}});var n=l(7437),a=l(2265),r=l(495),i=l(6013),t=l(3102),c=l(7135),d=l(6463),o=l(4716),h=l(8472),u=l(7776);function x(e){return e.replace(/\b\w/g,e=>e.toUpperCase())}function f(){let e=(0,d.useRouter)(),[s,l]=a.useState({name:"",phone:"",dob:"",area:"",unit:""}),[f,m]=a.useState(!1),p=e=>{l({...s,[e.target.id]:e.target.value})};return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,n.jsxs)(i.Zb,{className:"w-[400px] shadow-lg",children:[(0,n.jsxs)(i.Ol,{children:[(0,n.jsx)(i.ll,{children:"Register"}),(0,n.jsxs)(i.SZ,{children:["Enter your details to register.",(0,n.jsx)("br",{})," Get verified by an admin to log in."]}),"        "]}),(0,n.jsx)(i.aY,{children:(0,n.jsx)("form",{onSubmit:e=>e.preventDefault(),children:(0,n.jsxs)("div",{className:"grid w-full items-center gap-4",children:[(0,n.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,n.jsx)(c._,{htmlFor:"name",children:"Name"}),(0,n.jsx)(t.I,{id:"name",placeholder:"Full Name",value:s.name,onChange:p,disabled:f})]}),(0,n.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,n.jsx)(c._,{htmlFor:"phone",children:"Phone"}),(0,n.jsx)(t.I,{id:"phone",placeholder:"Mobile Number",value:s.phone,onChange:p,disabled:f})]}),(0,n.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,n.jsx)(c._,{htmlFor:"dob",children:"Date Of Birth"}),(0,n.jsx)(o.d,{onDateChange:e=>{console.log(e),l({...s,dob:e.toISOString()})}})]}),(0,n.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,n.jsx)(c._,{htmlFor:"area",children:"Area"}),(0,n.jsx)(t.I,{id:"area",placeholder:"Area",value:s.area,onChange:p,disabled:f})]}),(0,n.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,n.jsx)(c._,{htmlFor:"unit",children:"Unit"}),(0,n.jsx)(t.I,{id:"unit",placeholder:"Unit",value:s.unit,onChange:p,disabled:f})]})]})})}),(0,n.jsx)(i.eW,{className:"flex justify-between",children:(0,n.jsx)(r.z,{onClick:()=>{m(!0),h.Z.post("/api/register",{name:x(s.name),phone:s.phone,dob:new Date(s.dob).toLocaleDateString("en-GB").replace(/\//g,"-"),area:x(s.area),unit:x(s.unit)}).then(e=>{u.A.success("Registered successfully!")}).then(()=>{e.push("/")}).catch(e=>{console.error("Register failed:",e),u.A.error(e.response.data.message)}).finally(()=>{m(!1)})},disabled:f,children:f?"Loading...":"Register"})})]})})}}},function(e){e.O(0,[32,472,776,534,208,288,118,971,23,744],function(){return e(e.s=6702)}),_N_E=e.O()}]);