(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8306:function(e,n,r){Promise.resolve().then(r.bind(r,1613))},809:function(e,n,r){"use strict";r.d(n,{Gg:function(){return c},Qk:function(){return s},XR:function(){return t}}),r(4590);var a=r(8064);(0,a.$)("722ed65feea5b21261bbd2c76a7f077b1d509037"),(0,a.$)("6e3a33b373d25097280279d1c091fc56c15c844f"),(0,a.$)("35d4c1441f5f064fdebf725c84a6fb8128d8a81c"),(0,a.$)("01a038b941520912faba054f25a519491687433d"),(0,a.$)("31c603db583e6f4979512039e3a77f9ed93048f0");var t=(0,a.$)("37a5a71dc1211cb496f250b7079bb409ff231298"),s=(0,a.$)("beddca5024040d472c74a752bd260aad0d5e71ed"),c=(0,a.$)("796f752e6ac3f9cff407e402a73d9720c3fdb593");(0,a.$)("a3d3abb1e9e0d23ce2919fdc20b5d51b8dc3863b")},1613:function(e,n,r){"use strict";r.d(n,{CardWithForm:function(){return h}});var a=r(7437),t=r(2265),s=r(495),c=r(6013),l=r(3102),i=r(7135),d=r(6463),o=r(809),f=r(4716),u=r(8472),b=r(7776);function h(){let e=(0,d.useRouter)(),[n,r]=t.useState(""),[h,g]=t.useState(""),[x,p]=t.useState(!1);return t.useEffect(()=>{r(""),g("")},[]),(0,a.jsxs)(c.Zb,{className:"w-[350px] align-top",children:[(0,a.jsxs)(c.Ol,{children:[(0,a.jsx)(c.ll,{children:"Intekhaab"}),(0,a.jsx)(c.SZ,{children:"Simple & Secure Elections"})]}),(0,a.jsx)(c.aY,{children:(0,a.jsx)("form",{onSubmit:e=>e.preventDefault(),children:(0,a.jsxs)("div",{className:"grid w-full items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,a.jsx)(i._,{htmlFor:"username",children:"Phone"}),(0,a.jsx)(l.I,{id:"username",placeholder:"Mobile Number",value:n,onChange:e=>r(e.target.value),disabled:x})]}),(0,a.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,a.jsx)(i._,{htmlFor:"password",children:"Date Of Birth"}),(0,a.jsx)(f.d,{onDateChange:e=>{console.log(e),g(e.toISOString())}})]})]})})}),(0,a.jsxs)(c.eW,{className:"flex justify-left gap-2",children:[(0,a.jsx)(s.z,{onClick:function(r){r.preventDefault(),p(!0),u.Z.post("/api/voter",{phone:n,dob:new Date(h).toLocaleDateString("en-GB").replace(/\//g,"-")}).then(n=>!1===n.data.verified?(b.A.error("User not verified!"),e.push("/")):(0,o.XR)(n.data)).then(()=>{console.log("Login successful"),e.push("/user")}).catch(e=>{console.error("Login failed:",e),console.log(e.response.data.message),b.A.error(e.response.data.message)}).finally(()=>{p(!1)})},disabled:x,children:x?"Loading...":"Login"}),(0,a.jsx)(s.z,{variant:"ghost",className:"underline text-xs text-gray-400",onClick:()=>e.push("/register"),children:"Register"})]})]})}},8064:function(e,n,r){"use strict";Object.defineProperty(n,"$",{enumerable:!0,get:function(){return t}});let a=r(4590);function t(e){let{createServerReference:n}=r(6671);return n(e,a.callServer)}}},function(e){e.O(0,[32,472,776,534,208,288,118,971,23,744],function(){return e(e.s=8306)}),_N_E=e.O()}]);