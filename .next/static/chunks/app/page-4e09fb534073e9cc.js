(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8306:function(e,r,n){Promise.resolve().then(n.bind(n,1613))},809:function(e,r,n){"use strict";n.d(r,{Gg:function(){return c},Qk:function(){return t},XR:function(){return a}}),n(4590);var s=n(8064);(0,s.$)("722ed65feea5b21261bbd2c76a7f077b1d509037"),(0,s.$)("6e3a33b373d25097280279d1c091fc56c15c844f"),(0,s.$)("35d4c1441f5f064fdebf725c84a6fb8128d8a81c"),(0,s.$)("01a038b941520912faba054f25a519491687433d"),(0,s.$)("31c603db583e6f4979512039e3a77f9ed93048f0");var a=(0,s.$)("37a5a71dc1211cb496f250b7079bb409ff231298"),t=(0,s.$)("beddca5024040d472c74a752bd260aad0d5e71ed"),c=(0,s.$)("796f752e6ac3f9cff407e402a73d9720c3fdb593");(0,s.$)("a3d3abb1e9e0d23ce2919fdc20b5d51b8dc3863b")},1613:function(e,r,n){"use strict";n.d(r,{CardWithForm:function(){return h}});var s=n(7437),a=n(2265),t=n(495),c=n(6013),i=n(3102),d=n(7135),l=n(6463),o=n(809),f=n(4716),u=n(8472),b=n(7776);function h(){let e=(0,l.useRouter)(),[r,n]=a.useState(""),[h,p]=a.useState(""),[x,g]=a.useState(!1);return a.useEffect(()=>{n(""),p("")},[]),(0,s.jsxs)(c.Zb,{className:"w-[350px]",children:[(0,s.jsxs)(c.Ol,{children:[(0,s.jsx)(c.ll,{children:"Intekhaab"}),(0,s.jsx)(c.SZ,{children:"Simple & Secure Elections"})]}),(0,s.jsx)(c.aY,{children:(0,s.jsx)("form",{onSubmit:e=>e.preventDefault(),children:(0,s.jsxs)("div",{className:"grid w-full items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,s.jsx)(d._,{htmlFor:"username",children:"Phone"}),(0,s.jsx)(i.I,{id:"username",placeholder:"Mobile Number",value:r,onChange:e=>n(e.target.value),disabled:x})]}),(0,s.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,s.jsx)(d._,{htmlFor:"password",children:"Date Of Birth"}),(0,s.jsx)(f.d,{onDateChange:e=>{console.log(e),p(e.toISOString())}})]})]})})}),(0,s.jsxs)(c.eW,{className:"flex justify-left gap-2",children:[(0,s.jsx)(t.z,{onClick:function(n){n.preventDefault(),g(!0),u.Z.post("/api/voter",{phone:r,dob:new Date(h).toLocaleDateString("en-GB").replace(/\//g,"-")}).then(r=>!1===r.data.verified?(b.A.error("User not verified!"),e.push("/"),Promise.reject("User not verified")):(0,o.XR)(r.data)).then(()=>{console.log("Login successful"),e.push("/user")}).catch(e=>{console.error("Login failed:",e),e.response&&e.response.data&&e.response.data.message?b.A.error(e.response.data.message):b.A.error(e)}).finally(()=>{g(!1)})},disabled:x,children:x?"Loading...":"Login"}),(0,s.jsx)(t.z,{variant:"ghost",className:"underline text-xs text-gray-400",onClick:()=>e.push("/register"),children:"Register"})]})]})}},8064:function(e,r,n){"use strict";Object.defineProperty(r,"$",{enumerable:!0,get:function(){return a}});let s=n(4590);function a(e){let{createServerReference:r}=n(6671);return r(e,s.callServer)}}},function(e){e.O(0,[32,472,776,534,208,288,118,971,23,744],function(){return e(e.s=8306)}),_N_E=e.O()}]);